<script>
    let arr = [1, 2, 3, 4, 5, 6, 5, 7, 8, 9, 10];
    let indexof = arr.indexOf(5);
    console.log(indexof);
</script>
<style>
    .pujun-card-wrapper {
        max-width: 1200px;
        height: 60vh;
        border: 1px solid #000;
    }

    .pujun-card-inner {
        position: relative;
        display: flex;
        overflow: hidden;
        width: 100%;

    }

    .pujun-card-wrapper .pujun-card-inner .pujun-card-inner-item {
        flex: 0 0 calc(100% / 6);
        width: calc(100% / 6);
        height: 50vh;
        transition: flex 0.2s cubic-bezier(0.47,1.64,0.41,0.8);
        padding-right: 15px;
        box-sizing: border-box;
    }


    /*     .pujun-card-wrapper .pujun-card-inner .pujun-card-inner-item:hover {
        flex: 0 0 calc(100% / 3);
    } */
    /* 

    .pujun-card-wrapper .pujun-card-inner:has(.pujun-card-inner-item:nth-last-of-type(1):hover) {
        background-color: brown;
        justify-content: flex-end;
    } */

    .pujun-card-inner-item-content {
        width: 100%;
        height: 100%;
        background-color: rgb(222, 12, 96);
    }

    .pujun-card-wrapper .pujun-card-inner p {
        flex: 0 0 calc(100% / 7 - 16px);
        width: calc(100% / 7 - 16px);
        height: 50vh;
        background-color: #000;
    }

    .pujun-card-wrapper .pujun-card-inner p:nth-child(1) {
        /* 先找同级的所有子元素元素，判断第一个是否为div，不区别对待 */
        background-color: chartreuse;
    }

    .pujun-card-wrapper .pujun-card-inner div:nth-of-type(1) {
        /* 先找到所有为div的子元素，找到第一个div，区别对待 */
        /* background-color: rgb(222, 12, 96); */
    }
</style>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="pujun-card-wrapper">
        <div class="pujun-card-inner">
            <!--   <p></p> -->
            <div class="pujun-card-inner-item">
                <div class="pujun-card-inner-item-content"></div>
            </div>
            <div class="pujun-card-inner-item">
                <div class="pujun-card-inner-item-content"></div>
            </div>
            <div class="pujun-card-inner-item">
                <div class="pujun-card-inner-item-content"></div>
            </div>
            <div class="pujun-card-inner-item">
                <div class="pujun-card-inner-item-content"></div>
            </div>
            <div class="pujun-card-inner-item">
                <div class="pujun-card-inner-item-content"></div>
            </div>
            <div class="pujun-card-inner-item">
                <div class="pujun-card-inner-item-content"></div>
            </div>
            <div class="pujun-card-inner-item">
                <div class="pujun-card-inner-item-content"></div>
            </div>
            <div class="pujun-card-inner-item">
                <div class="pujun-card-inner-item-content"></div>
            </div>
            <div class="pujun-card-inner-item">
                <div class="pujun-card-inner-item-content"></div>
            </div>
            <div class="pujun-card-inner-item">
                <div class="pujun-card-inner-item-content"></div>
            </div>
        </div>
    </div>
    <script>
        let cardItems = document.querySelectorAll('.pujun-card-inner-item');
        let cardInner = document.querySelector('.pujun-card-inner');
        let cardWrapperWidth = document.querySelector('.pujun-card-wrapper').offsetWidth;
        let isAnimating = false; // 标记是否正在执行动画
        let timeoutId; // 用于存储定时器的变量
    
        cardItems.forEach(item => {
            let isHovered = false; // 标记当前元素是否被悬停
    
            item.addEventListener('mouseenter', () => {
                isHovered = true;
                clearTimeout(timeoutId); // 清除之前的定时器
                if (item.offsetLeft + item.offsetWidth > cardWrapperWidth - item.offsetWidth && item.offsetLeft + item.offsetWidth < cardWrapperWidth) {
                    cardInner.style.justifyContent = 'flex-end';
                    item.style.flexBasis = 'calc(100% / 3)';
                } else {
                    item.style.flexBasis = 'calc(100% / 3)';
                }
            });
    
            item.addEventListener('mouseleave', () => {
                if (!isHovered) return; // 如果没有悬停，则直接返回
                isHovered = false;
                if (item.offsetLeft + item.offsetWidth > cardWrapperWidth - item.offsetWidth && item.offsetLeft + item.offsetWidth < cardWrapperWidth) {
                    item.style.flexBasis = 'calc(100% / 6)';
                    clearTimeout(timeoutId); // 清除之前的定时器
                    timeoutId = setTimeout(() => {
                        cardInner.style.justifyContent = 'flex-start';
                        isAnimating = false; // 动画完成后设置为 false
                    }, 200); // 调整动画延迟时间
                } else {
                    item.style.flexBasis = 'calc(100% / 6)';
                    clearTimeout(timeoutId); // 清除之前的定时器
                    timeoutId = setTimeout(() => {
                        isAnimating = false; // 动画完成后设置为 false
                    }, 200); // 调整动画延迟时间
                    
                }
                
                isAnimating = true; // 标记为正在执行动画
            });
    
        });
    </script>
    
    






</body>

</html>